// CO2 berücksichtingen
// Investitionskosten 
#TIMEHORIZON
T = 365 * 24; // number of hours in two years

NODE CHP_PLANT
#PARAMETERS
    capex = 550 ; //kosten pro kW
    depreciation = 15; //Abschreibungsdauer beträgt 15 Jahre
    annual_depreciation = capex / depreciation; // annual_depreciation per kW
    heating_value = 10.5; // Heating value: 10-11.1 kWh/m3 (source: EI1) 
    thermal_efficiency = 0.6;
    el_efficiency = 0.3;  
#VARIABLES
    internal: investment_cost;
    //internal: thermal_power; // the thermal power of the chp plant in kW (thermische Leistung)
    internal: el_power;
    external: electricity_generated[T]; // kWh/h
    external: heat_generated[T];
    external: consumption_gas[T];
#CONSTRAINTS
    el_power >= 0;
    electricity_generated[t] <= el_power;
    consumption_gas[t] == el_power / (el_efficiency * heating_value);
    heat_generated[t] == el_efficiency*el_power / (el_efficiency * heating_value);
    investment_cost == annual_depreciation * el_power;
#OBJECTIVES
    min: investment_cost;
